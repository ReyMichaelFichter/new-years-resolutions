{"ast":null,"code":"import _classCallCheck from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Fichter/personal-dashboard/client/src/week/WeekApp.jsx\";\nimport React, { Component } from 'react';\nimport WeeklyPlanner from './WeeklyPlanner';\nimport WeekInitializer from './WeekInitializer';\n\nvar WeekApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(WeekApp, _Component);\n\n  function WeekApp(props) {\n    var _this;\n\n    _classCallCheck(this, WeekApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WeekApp).call(this, props));\n    _this.state = {\n      activeWeek: null\n    };\n    _this.displayWeek = _this.displayWeek.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchWeeks = _this.fetchWeeks.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(WeekApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchWeeks().then(function () {\n        return _this2.displayWeek(_this2.state.weeks[_this2.state.weeks.length - 1]);\n      });\n    }\n  }, {\n    key: \"displayWeek\",\n    value: function displayWeek(activeWeek) {\n      this.setState({\n        activeWeek: activeWeek\n      });\n    }\n  }, {\n    key: \"fetchWeeks\",\n    value: function fetchWeeks() {\n      var _this3 = this;\n\n      return fetch('/weeks').then(function (res) {\n        return res.json();\n      }).then(function (weeks) {\n        return _this3.setState({\n          weeks: weeks\n        });\n      });\n    }\n  }, {\n    key: \"createWeek\",\n    value: function createWeek() {\n      var _this4 = this;\n\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          initialized: false\n        })\n      };\n      return fetch('/weeks', options).then(function (res) {\n        return _this4.displayWeek(res);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          weeks = _this$state.weeks,\n          activeWeek = _this$state.activeWeek;\n      var allWeeks = weeks ? React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, weeks.map(function (week) {\n        return React.createElement(\"li\", {\n          onClick: function onClick() {\n            return _this5.displayWeek(week);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Week \", week.id);\n      })) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"loading...\");\n      var currentWeek;\n\n      switch (activeWeek) {\n        case {\n          initialized: false\n        }:\n          currentWeek = React.createElement(WeekInitializer, {\n            week: activeWeek,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50\n            },\n            __self: this\n          });\n\n        case {\n          initialized: true\n        }:\n          currentWeek = React.createElement(WeeklyPlanner, {\n            week: activeWeek,\n            fetchWeeks: this.fetchWeeks,\n            createWeek: this.createWeek,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          });\n\n        default:\n          currentWeek = React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, \"loading...\");\n      }\n\n      return React.createElement(React.Fragment, null, allWeeks, currentWeek);\n    }\n  }]);\n\n  return WeekApp;\n}(Component);\n\nexport default WeekApp;","map":{"version":3,"sources":["/Users/Fichter/personal-dashboard/client/src/week/WeekApp.jsx"],"names":["React","Component","WeeklyPlanner","WeekInitializer","WeekApp","props","state","activeWeek","displayWeek","bind","fetchWeeks","then","weeks","length","setState","fetch","res","json","options","method","headers","body","JSON","stringify","initialized","allWeeks","map","week","id","currentWeek","createWeek"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport WeeklyPlanner from './WeeklyPlanner';\nimport WeekInitializer from './WeekInitializer';\n\nclass WeekApp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {activeWeek: null};\n    this.displayWeek = this.displayWeek.bind(this);\n    this.fetchWeeks = this.fetchWeeks.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchWeeks()\n      .then(() => this.displayWeek(this.state.weeks[this.state.weeks.length -1]))\n\n  }\n\n  displayWeek(activeWeek) {\n    this.setState({ activeWeek });\n  }\n\n  fetchWeeks() {\n    return fetch('/weeks')\n      .then(res => res.json())\n      .then(weeks => this.setState({ weeks }));\n  }\n\n  createWeek() {\n    const options = {\n      method:'POST',\n      headers: {'Content-Type':'application/json'},\n      body: JSON.stringify({initialized: false})\n    }\n    return fetch('/weeks', options)\n      .then(res => this.displayWeek(res))\n  }\n  render() {\n    const { weeks, activeWeek } = this.state;\n\n    const allWeeks = weeks\n    ? (<ul>\n      {weeks.map(week => <li onClick={() => this.displayWeek(week)}>Week {week.id}</li>)}\n    </ul>)\n    : <p>loading...</p>;\n\n    let currentWeek;\n    switch(activeWeek) {\n      case {initialized: false}:\n        currentWeek = <WeekInitializer week={activeWeek} />;\n      case {initialized: true}:\n        currentWeek = <WeeklyPlanner week={activeWeek} fetchWeeks={this.fetchWeeks} createWeek={this.createWeek}/>\n      default: \n        currentWeek = <p>loading...</p>\n    }\n\n    return(\n      <>\n        {allWeeks}\n        {currentWeek}\n      </>\n    )\n  }\n}\n\nexport default WeekApp;"]},"metadata":{},"sourceType":"module"}