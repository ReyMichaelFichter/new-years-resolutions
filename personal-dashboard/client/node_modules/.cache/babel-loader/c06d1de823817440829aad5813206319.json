{"ast":null,"code":"import _objectSpread from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Fichter/personal-dashboard/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Fichter/personal-dashboard/client/src/week/WeeklyReview.jsx\";\nimport React, { Component } from 'react';\n\nvar WeeklyReview =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(WeeklyReview, _Component);\n\n  function WeeklyReview(props) {\n    var _this;\n\n    _classCallCheck(this, WeeklyReview);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WeeklyReview).call(this, props));\n    _this.state = {\n      active: false,\n      positives: \"What went well?\",\n      negatives: \"What could have been better?\"\n    };\n    _this.toggleReview = _this.toggleReview.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangePositives = _this.handleChangePositives.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangeNegatives = _this.handleChangeNegatives.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(WeeklyReview, [{\n    key: \"toggleReview\",\n    value: function toggleReview() {\n      var active = this.state.active;\n      this.setState({\n        active: !active\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var week = this.props.week;\n      var _this$state = this.state,\n          positives = _this$state.positives,\n          negatives = _this$state.negatives;\n\n      var updatedWeek = _objectSpread({}, week, {\n        review: {\n          positives: positives,\n          negatives: negatives\n        }\n      });\n\n      var options = {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedWeek)\n      };\n      console.log(updatedWeek);\n      e.preventDefault();\n      console.log(week.id);\n      fetch(\"/weeks/\".concat(week.id), options).then(fetchWeeks);\n    }\n  }, {\n    key: \"handleChangePositives\",\n    value: function handleChangePositives(event) {\n      this.setState({\n        positives: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeNegatives\",\n    value: function handleChangeNegatives(event) {\n      this.setState({\n        negatives: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          active = _this$state2.active,\n          positives = _this$state2.positives,\n          negatives = _this$state2.negatives;\n      var display = active ? React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"What went well this week?\"), React.createElement(\"textarea\", {\n        onChange: this.handleChangePositives,\n        value: positives,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"What do I need to work on next week?\"), React.createElement(\"textarea\", {\n        onChange: this.handleChangeNegatives,\n        value: negatives,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"Finish week\"), React.createElement(\"button\", {\n        onClick: this.toggleReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Cancel weekly review\")) : React.createElement(\"button\", {\n        onClick: this.toggleReview,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Start weekly review\");\n      return display;\n    }\n  }]);\n\n  return WeeklyReview;\n}(Component);\n\nexport default WeeklyReview;","map":{"version":3,"sources":["/Users/Fichter/personal-dashboard/client/src/week/WeeklyReview.jsx"],"names":["React","Component","WeeklyReview","props","state","active","positives","negatives","toggleReview","bind","handleSubmit","handleChangePositives","handleChangeNegatives","setState","e","week","updatedWeek","review","options","method","headers","body","JSON","stringify","console","log","preventDefault","id","fetch","then","fetchWeeks","event","target","value","display"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass WeeklyReview extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            active: false,\n            positives: \"What went well?\",\n            negatives: \"What could have been better?\"\n        };\n        this.toggleReview = this.toggleReview.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChangePositives = this.handleChangePositives.bind(this);\n        this.handleChangeNegatives = this.handleChangeNegatives.bind(this);\n\n    }\n\n    toggleReview() {\n        const { active } = this.state;\n        this.setState({ active: !active })\n    }\n\n    handleSubmit(e) {\n        const { week } = this.props;\n        const { positives, negatives } = this.state;\n        const updatedWeek = {...week, review: { positives, negatives }};\n\n        const options = {\n            method:'PUT',\n            headers: {'Content-Type':'application/json'},\n            body: JSON.stringify(updatedWeek)\n        }\n        console.log(updatedWeek);\n        e.preventDefault();\n        console.log(week.id);\n        fetch(`/weeks/${week.id}`, options)\n            .then(fetchWeeks);\n    }\n\n    handleChangePositives(event) {\n        this.setState({ positives: event.target.value });\n    }\n\n    handleChangeNegatives(event) {\n        this.setState({ negatives: event.target.value });\n    }\n\n    render() {\n        const { active, positives, negatives } = this.state;\n        const display = active\n            ? (\n                <form>\n                    <h3>What went well this week?</h3>\n                    <textarea onChange={this.handleChangePositives} value={positives}></textarea>\n                    <h3>What do I need to work on next week?</h3>\n                    <textarea onChange={this.handleChangeNegatives} value={negatives}></textarea>\n                    <br></br>\n                    <button onClick={this.handleSubmit}>Finish week</button>\n                    <button onClick={this.toggleReview}>Cancel weekly review</button>\n                </form>\n            )\n            : <button onClick={this.toggleReview}>Start weekly review</button>;\n\n        return display;\n    }\n}\n\nexport default WeeklyReview;"]},"metadata":{},"sourceType":"module"}